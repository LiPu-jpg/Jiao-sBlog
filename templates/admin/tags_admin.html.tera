{% extends "admin_base" %}

{% block title %}æ ‡ç­¾ç®¡ç†{% endblock %}

{% block content %}
<div class="card">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
        <h2>ğŸ·ï¸ æ ‡ç­¾ç®¡ç†</h2>
        <a href="/admin/tags/new" class="btn" style="background: var(--secondary-color); color: white; padding: 12px 24px; border-radius: 8px; text-decoration: none; font-weight: 500;">
            â• åˆ›å»ºæ–°æ ‡ç­¾
        </a>
    </div>
    
    {% if tags | length > 0 %}
        <div style="overflow-x: auto;">
            <table>
                <thead>
                    <tr>
                        <th style="width: 60%;">æ ‡ç­¾åç§°</th>
                        <th style="width: 20%;">æ–‡ç« æ•°é‡</th>
                        <th style="width: 20%;">æ“ä½œ</th>
                    </tr>
                </thead>
                <tbody>
                    {% for tag in tags %}
                        <tr>
                            <td style="font-weight: 500;">
                                <span style="display: inline-block; padding: 4px 12px; background: var(--secondary-color); color: white; border-radius: 15px; font-size: 0.9rem;">
                                    {{ tag.name }}
                                </span>
                            </td>
                            <td style="color: var(--text-secondary);">
                                {{ tag.article_count | default(value="0") }} ç¯‡
                            </td>
                            <td>
                                <form action="/admin/tags/{{ tag.id }}/delete" method="post" style="display: inline;">
                                    <button type="submit" class="btn btn-small btn-danger" 
                                            onclick="return confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæ ‡ç­¾å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚')">
                                        ğŸ—‘ï¸ åˆ é™¤
                                    </button>
                                </form>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        
        <div style="margin-top: 20px; color: var(--text-secondary); font-size: 0.9rem;">
            å…± {{ tags | length }} ä¸ªæ ‡ç­¾
        </div>
    {% else %}
        <div style="text-align: center; padding: 60px 20px; color: var(--text-secondary);">
            <div style="font-size: 3rem; margin-bottom: 20px;">ğŸ·ï¸</div>
            <h3 style="margin-bottom: 15px;">æš‚æ— æ ‡ç­¾</h3>
            <p>åˆ›å»ºæ ‡ç­¾æ¥æ›´å¥½åœ°ç»„ç»‡æ‚¨çš„æ–‡ç« </p>
            <a href="/admin/tags/new" class="btn" style="margin-top: 20px;">
                â• åˆ›å»ºç¬¬ä¸€ä¸ªæ ‡ç­¾
            </a>
        </div>
    {% endif %}
    
    <div style="margin-top: 30px; padding: 20px; background: rgba(241, 196, 15, 0.1); border-radius: 12px; border-left: 4px solid #f1c40f;">
        <h4 style="margin-bottom: 10px; color: #2c3e50;">ğŸ’¡ æ ‡ç­¾ä½¿ç”¨æç¤º</h4>
        <ul style="margin-left: 20px; color: var(--text-secondary);">
            <li>æ ‡ç­¾å¯ä»¥å¸®åŠ©è¯»è€…å¿«é€Ÿæ‰¾åˆ°ç›¸å…³å†…å®¹</li>
            <li>å»ºè®®ä¸ºæ¯ä¸ªæ ‡ç­¾åˆ†é…3-5ä¸ªç›¸å…³æ ‡ç­¾</li>
            <li>åˆ é™¤æ ‡ç­¾ä¸ä¼šå½±å“å·²å‘å¸ƒçš„æ–‡ç« </li>
        </ul>
    </div>
</div>
{% endblock %}