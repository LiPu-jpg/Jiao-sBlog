{% extends "admin_base" %}

{% block title %}æ–‡ç« ç®¡ç†{% endblock %}

{% block content %}
<div class="card">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
        <h2>ğŸ“ æ–‡ç« ç®¡ç†</h2>
        <a href="/admin/articles/new" class="btn" style="background: var(--secondary-color); color: white; padding: 12px 24px; border-radius: 8px; text-decoration: none; font-weight: 500;">
            âœï¸ åˆ›å»ºæ–°æ–‡ç« 
        </a>
    </div>
    
    {% if articles | length > 0 %}
        <div style="overflow-x: auto;">
            <table>
                <thead>
                    <tr>
                        <th style="width: 40%;">æ ‡é¢˜</th>
                        <th style="width: 20%;">åˆ›å»ºæ—¶é—´</th>
                        <th style="width: 15%;">çŠ¶æ€</th>
                        <th style="width: 25%;">æ“ä½œ</th>
                    </tr>
                </thead>
                <tbody>
                    {% for article in articles %}
                        <tr>
                            <td style="font-weight: 500;">
                                <a href="/article/{{ article.id }}" target="_blank" style="color: var(--primary-color); text-decoration: none;">
                                    {{ article.title }}
                                </a>
                            </td>
                            <td style="color: var(--text-secondary); font-size: 0.9rem;">
                                {{ article.created_at }}
                            </td>
                            <td>
                                <span style="padding: 4px 8px; background: #2ecc71; color: white; border-radius: 12px; font-size: 0.8rem;">
                                    å·²å‘å¸ƒ
                                </span>
                            </td>
                            <td>
                                <div class="action-buttons">
                                    <a href="/admin/articles/{{ article.id }}/edit" class="btn btn-small" style="background: var(--secondary-color); color: white; text-decoration: none;">
                                        âœï¸ ç¼–è¾‘
                                    </a>
                                    <form action="/admin/articles/{{ article.id }}/delete" method="post" style="display: inline;">
                                        <button type="submit" class="btn btn-small btn-danger" 
                                                onclick="return confirm('ç¡®å®šè¦åˆ é™¤è¿™ç¯‡æ–‡ç« å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚')">
                                            ğŸ—‘ï¸ åˆ é™¤
                                        </button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        
        <div style="margin-top: 20px; color: var(--text-secondary); font-size: 0.9rem;">
            å…± {{ articles | length }} ç¯‡æ–‡ç« 
        </div>
    {% else %}
        <div style="text-align: center; padding: 60px 20px; color: var(--text-secondary);">
            <div style="font-size: 3rem; margin-bottom: 20px;">ğŸ“</div>
            <h3 style="margin-bottom: 15px;">æš‚æ— æ–‡ç« </h3>
            <p>å¼€å§‹åˆ›å»ºæ‚¨çš„ç¬¬ä¸€ç¯‡æ–‡ç« å§ï¼</p>
            <a href="/admin/articles/new" class="btn" style="margin-top: 20px;">
                âœï¸ åˆ›å»ºç¬¬ä¸€ç¯‡æ–‡ç« 
            </a>
        </div>
    {% endif %}
</div>
{% endblock %}